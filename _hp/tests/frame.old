// TODO: try the polling idea: poll until either access possible or SOP exception
// Then log access possible/not possible + number of frames in the document? (Does that work for object, embed?)
// Problem how to use it for nested cases?
// Maybe only do the polling in the parent of the final response? other frames just pass the results as postMessages up?


// Alternative idea without postMessages: wait for "load" and access number of frames or similar?
// Iframes should always fire a load event
// Sadly this is broken in Firefox for CSP-FA https://bugzilla.mozilla.org/show_bug.cgi?id=1552504 and other network errors: https://bugzilla.mozilla.org/show_bug.cgi?id=929899
// For XFO this would work though
// Alternative option: https://github.com/web-platform-tests/wpt/commit/eef4b22afc49a1fac410559d6101e8fda942ce31
if (false) {
i.onload = t.step_func_done(() => {
  //assert_equals(i.contentDocument, null);
  t.report_outcome({"frames.length": i.contentWindow.frames.length, "res": format_value([null, undefined, "null", "undefined", -0])});
  assert_equals(null, null);
});
}